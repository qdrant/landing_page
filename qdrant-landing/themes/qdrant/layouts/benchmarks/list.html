{{ define "main" }}

{{ range $i,$p := where .Data.Pages "Section" "benchmarks" }}

{{ if .Params.Unlisted }}

{{ else }}

<div class="auto-container pt-3 pt-md-5 single-page">
    <div class="row clearfix">
        <!-- Content Side -->
        <section class="content-side col-lg-12 col-md-12 col-sm-12">
            {{ .Scratch.Set "scope" "single" }}
            {{ $link := .Permalink }}
            {{ if .Params.external_link }}
            {{ $link = .Params.external_link }}
            {{ end }}


            {{ if .Description }}
            <article class="article article_benchmarks article_narrow">
                <h1>{{ .Title }}</h1>
                <p>{{ .Description | safeHTML }}</p>
            </article>
            {{ end }}

            {{ if .Params.single_node_data }}
            <div class="row clearfix">
                <section class="content-side col-lg-12 col-md-12 col-sm-12">
                    {{
                        partial "benchmark_chart"
                        (dict "Params" (dict "id" 1 "metric" "rps" "data" .Params.single_node_data))
                    }}
                </section>
            </div>
            {{ end }}

            {{ if .Params.filter_data }}
            <div class="row clearfix">
                <section class="content-side col-lg-12 col-md-12 col-sm-12">
                    {{ partial "benchmark_filter_chart" . }}
                </section>
            </div>
            {{ end }}


            <article class="article article_benchmarks article_narrow">
                {{ .Content }}
            </article>
        </section>
    </div>
</div>

{{ end }}
{{ end }}
{{ end }}
