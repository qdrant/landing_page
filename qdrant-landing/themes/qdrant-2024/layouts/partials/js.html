<!--Coocke banner-->
{{ $cookit := resources.Get "/js/cookit.js" | js.Build | minify | resources.Fingerprint "sha512" }}
<script src="{{ $cookit.RelPermalink }}"></script>
{{ with (.Site.GetPage "/headless/cookies") }}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.cookit({
      messageText: "{{ .Params.message.text }}",
      linkText: "{{ .Params.link.text }}",
      linkUrl: "{{ .Params.link.url }}",
      buttonText: "{{ .Params.button.text }}",
      backgroundColor: {{ .Params.background }},
      messageColor: {{ .Params.message.color }},
      linkColor: {{ .Params.link.color }},
      buttonColor: {{ .Params.button.color }},
    });
  });
</script>
{{ end }}

{{ if .IsHome }}
  <!--splide.js carousel-->
  {{ $splideJs := resources.Get "/js/vendor/splide.js" | js.Build | minify | resources.Fingerprint "sha512" }}
  <script src="{{ $splideJs.RelPermalink }}"></script>
{{ end }}


<!--todo: fix for paginator-->
{{ if in (slice "blog" "documentation") .Section }}
  {{ $pageSearchJs := resources.Get "/js/search/search.js" | js.Build | minify | resources.Fingerprint "sha512" }}
  <script src="{{ $pageSearchJs.RelPermalink }}" type="module"></script>
{{ end }}

{{ if and .IsPage (in (slice "blog" "articles" "benchmarks" "documentation") .Section) }}
  {{ $pageSearchScrollJs := resources.Get "/js/search/scroll.js" | js.Build | minify | resources.Fingerprint "sha512" }}
  <script src="{{ $pageSearchScrollJs.RelPermalink }}"></script>
{{ end }}

{{ if and .IsPage (in (slice "blog" "articles" "benchmarks" "documentation") .Section) }}
  <!--popper.js for bootstrap-->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>

  {{ $copyCodeJs := resources.Get "/js/copy-code.js" | js.Build | minify | resources.Fingerprint "sha512" }}
  <script src="{{ $copyCodeJs.RelPermalink }}"></script>

  {{ $langSwitcherJs := resources.Get "/js/lang-switcher.js" | js.Build | minify | resources.Fingerprint "sha512" }}
  <script src="{{ $langSwitcherJs.RelPermalink }}"></script>
{{ end }}
